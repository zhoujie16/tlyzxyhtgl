webpackJsonp([10],{"0mcP":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("vLgD");var i={data:function(){return{dialogVisible:!1,dialogMark:"",switchValue:!1,queryAuditForm:{pageNum:1,pageSize:10,verifyResult:null,auditType:null},editForm:{},delTestForm:{},multipleSelection:[],dataList:[],total:0,curPage:1,pageSize:10}},mounted:function(){this.queryAction()},methods:{handleSizeChange:function(e){console.log("SizeChange 每页 "+e+" 条"),this.queryAuditForm.pageSize=e,this.queryAction()},handleCurrentChange:function(e){console.log("CurrentChange 当前页: "+e),this.queryAuditForm.pageNum=e,this.queryAction()},handleSelectionChange:function(e){this.multipleSelection=e,_log("选中的列表",e)},queryAction:function(){var e,t=this;(e=this.queryAuditForm,Object(a.a)({url:"/audit/postrecd/list",method:"post",data:e})).then(function(e){var l=e.data;0===l.ret&&(console.log("查询",t.queryAuditForm,"结果",l),t.dataList=l.dataList,t.total=l.totalCount)})},editClick:function(e){this.dialogVisible=!0,this.editForm=e.row,this.dialogMark=this.editForm.verifyResultDesc},auditAction:function(e,t){var l,i=this;console.log("审核id",e),this.switchValue?(l=e,Object(a.a)({url:"/audit/postrecd/pass/"+l,method:"put"})).then(function(e){var t=e.data;console.log("审核",t),0===t.ret&&(i.$message({message:"操作成功",type:"success"}),i.dialogVisible=!1,i.queryAction())}):function(e,t){return Object(a.a)({url:"/audit/postrecd/deny/"+e,method:"put",data:{denyReason:t}})}(e,t).then(function(e){var t=e.data;console.log("审核",t),0===t.ret&&(i.$message({message:"操作成功",type:"success"}),i.dialogVisible=!1,i.queryAction())})}}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"container"},[l("el-header",[e._v("审核事项")]),e._v(" "),l("el-main",[l("el-form",{attrs:{model:e.queryAuditForm,inline:!0,size:"small"}},[l("el-form-item",{attrs:{label:"事项分类"}},[l("el-select",{attrs:{placeholder:""},model:{value:e.queryAuditForm.auditType,callback:function(t){e.$set(e.queryAuditForm,"auditType",t)},expression:"queryAuditForm.auditType"}},[l("el-option",{attrs:{label:"全部",value:null}}),e._v(" "),l("el-option",{attrs:{label:"补录审核",value:1}}),e._v(" "),l("el-option",{attrs:{label:"身份审核",value:2}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"状态审核"}},[l("el-select",{attrs:{placeholder:""},model:{value:e.queryAuditForm.verifyResult,callback:function(t){e.$set(e.queryAuditForm,"verifyResult",t)},expression:"queryAuditForm.verifyResult"}},[l("el-option",{attrs:{label:"全部",value:null}}),e._v(" "),l("el-option",{attrs:{label:"待审核",value:0}}),e._v(" "),l("el-option",{attrs:{label:"审核通过",value:1}}),e._v(" "),l("el-option",{attrs:{label:"审核不通过",value:2}})],1)],1),e._v(" "),l("el-form-item",{attrs:{size:"small"}},[l("el-button",{attrs:{type:"primary"},on:{click:e.queryAction}},[e._v("查询")])],1)],1),e._v(" "),l("el-table",{attrs:{height:"480",data:e.dataList,border:"",stripe:"",size:"small"},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{prop:"auditTypeDesc",label:"事项分类",width:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"campusName",label:"所属校区",width:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"gradeName",label:"学届",width:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"className",label:"班级",width:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"stuName",label:"姓名",width:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"verifyResultDesc",label:"审核状态",width:""}}),e._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["待审核"==t.row.verifyResultDesc?l("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(l){e.editClick(t)}}},[e._v("审核")]):l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(l){e.editClick(t)}}},[e._v("详情")])]}}])})],1),e._v(" "),l("div",{staticClass:"pagination",staticStyle:{"margin-top":"10px"}},[l("el-pagination",{attrs:{"page-sizes":[10,20,30],layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"编辑记录",visible:e.dialogVisible},on:{open:function(t){e.switchValue=!1},"update:visible":function(t){e.dialogVisible=t}}},[l("el-form",{attrs:{model:e.editForm,"label-width":"100px","label-position":"right",size:"small"}},[l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"所属校区"}},[l("el-input",{attrs:{disabled:""},model:{value:e.editForm.campusName,callback:function(t){e.$set(e.editForm,"campusName",t)},expression:"editForm.campusName"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"学届"}},[l("el-input",{attrs:{disabled:""},model:{value:e.editForm.gradeName,callback:function(t){e.$set(e.editForm,"gradeName",t)},expression:"editForm.gradeName"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"班级"}},[l("el-input",{attrs:{disabled:""},model:{value:e.editForm.className,callback:function(t){e.$set(e.editForm,"className",t)},expression:"editForm.className"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"姓名"}},[l("el-input",{attrs:{disabled:""},model:{value:e.editForm.stuName,callback:function(t){e.$set(e.editForm,"stuName",t)},expression:"editForm.stuName"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"性别"}},[l("el-input",{attrs:{disabled:""},model:{value:e.editForm.sexName,callback:function(t){e.$set(e.editForm,"sexName",t)},expression:"editForm.sexName"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"手机"}},[l("el-input",{attrs:{disabled:""},model:{value:e.editForm.phone,callback:function(t){e.$set(e.editForm,"phone",t)},expression:"editForm.phone"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"审核状态"}},[l("el-input",{attrs:{disabled:""},model:{value:e.editForm.verifyResultDesc,callback:function(t){e.$set(e.editForm,"verifyResultDesc",t)},expression:"editForm.verifyResultDesc"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"外号"}},[l("el-input",{attrs:{disabled:""},model:{value:e.editForm.nickname,callback:function(t){e.$set(e.editForm,"nickname",t)},expression:"editForm.nickname"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"邮箱"}},[l("el-input",{attrs:{disabled:""},model:{value:e.editForm.txt,callback:function(t){e.$set(e.editForm,"txt",t)},expression:"editForm.txt"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"工作单位"}},[l("el-input",{attrs:{disabled:""},model:{value:e.editForm.txt,callback:function(t){e.$set(e.editForm,"txt",t)},expression:"editForm.txt"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"居住地址"}},[l("el-input",{attrs:{disabled:"",type:"textarea"},model:{value:e.editForm.txt,callback:function(t){e.$set(e.editForm,"txt",t)},expression:"editForm.txt"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"教育经历"}},[l("el-input",{attrs:{disabled:"",type:"textarea"},model:{value:e.editForm.txt,callback:function(t){e.$set(e.editForm,"txt",t)},expression:"editForm.txt"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"工作经验"}},[l("el-input",{attrs:{disabled:"",type:"textarea"},model:{value:e.editForm.txt,callback:function(t){e.$set(e.editForm,"txt",t)},expression:"editForm.txt"}})],1)],1),e._v(" "),"待审核"==e.dialogMark?l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"审核结果"}},[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}}),e._v(" "),l("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.switchValue?"通过":"拒绝"))])],1)],1):e._e(),e._v(" "),e.switchValue||"审核未通过"!=e.editForm.verifyResultDesc&&"待审核"!=e.editForm.verifyResultDesc?e._e():l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"拒绝原因"}},[l("el-input",{attrs:{disabled:"待审核"!=e.dialogMark,type:"textarea"},model:{value:e.editForm.denyReason,callback:function(t){e.$set(e.editForm,"denyReason",t)},expression:"editForm.denyReason"}})],1)],1)],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),"待审核"==e.dialogMark?l("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.auditAction(e.editForm.eventId,e.editForm.denyReason)}}},[e._v("提 交")]):e._e()],1)],1)],1)},staticRenderFns:[]};var s=l("VU/8")(i,o,!1,function(e){l("ggWj")},null,null);t.default=s.exports},ggWj:function(e,t,l){var a=l("mvFF");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);l("rjj0")("5e7f09d3",a,!0)},mvFF:function(e,t,l){(e.exports=l("FZ+f")(!1)).push([e.i,"\n.el-header {\n\tline-height: 60px;\n}\n",""])}});