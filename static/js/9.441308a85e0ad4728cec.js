webpackJsonp([9],{DzIq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("vLgD");var l=a("zL8q"),o={data:function(){return{dialogVisible:!1,dialogMark:"",addCampusForm:{campusName:"",openDate:"",colseDate:"",leaderName:"",seq:""},campusData:[],multipleSelection:[]}},mounted:function(){this.queryCampusAction()},methods:{queryCampusAction:function(){var e=this;Object(s.a)({url:"/campus",method:"get"}).then(function(t){var a=t.data;0===a.ret&&console.log("queryCampus",a),e.campusData=a.dataList}).catch(function(e){console.error(e)})},addCampusClick:function(){this.dialogMark="add",this.addCampusForm={campusName:"",openDate:"",colseDate:"",leaderName:"",seq:""},this.dialogVisible=!0},submitBtnClick:function(){console.log(this.dialogMark),"add"==this.dialogMark?this.addCampusFormSubmit():"edit"==this.dialogMark&&this.editCampusAction()},addCampusFormSubmit:function(){var e,t=this;_log("校区表单提交",this.addCampusForm),(e=this.addCampusForm,Object(s.a)({url:"/campus",method:"post",data:e})).then(function(e){var a=e.data;console.log("addCampus",a),0===a.ret&&(t.$message({message:"校区创建成功",type:"success"}),t.dialogVisible=!1,t.queryCampusAction())}).catch(function(e){console.error(e)})},editCampusClick:function(e){this.dialogMark="edit",this.addCampusForm=e.row,this.dialogVisible=!0},editCampusAction:function(){var e,t=this;(e=this.addCampusForm,Object(s.a)({url:"/campus",method:"put",data:e})).then(function(e){var a=e.data;console.log("editCampus",a),0===a.ret&&(t.$message({message:"校区修改成功",type:"success"}),t.dialogVisible=!1,t.queryCampusAction())}).catch(function(e){console.error(e)})},delCampusBtnClick:function(){var e=[];this.multipleSelection.forEach(function(t,a){e.push(t.campusId)}),0!=e.length?this.delCampusAction(e):this.$message({message:"请选择一条记录",type:"warning"})},delCampusClick:function(e){var t=e.row.campusId;this.delCampusAction([t])},delCampusAction:function(e){var t=this;console.log("要删除的id",e),this.$confirm("此操作将删除这条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a;(a={ids:e},Object(s.a)({url:"/campus",method:"delete",data:a})).then(function(e){var a=e.data;console.log("delCampus",a),0===a.ret&&(t.$message({message:"校区删除成功",type:"success"}),t.dialogVisible=!1,t.queryCampusAction())}).catch(function(e){console.error(e)})}).catch(function(){})},handleSelectionChange:function(e){this.multipleSelection=e,_log("选中的校区列表",e)},testClick:function(){var e=l.Loading.service({lock:!0,text:"正在加载...",background:"rgba(0, 0, 0, 0.5)"});setTimeout(function(){e.close()},1e3)}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-header",[e._v("校区管理")]),e._v(" "),a("el-main",[a("el-form",{attrs:{size:"small"}},[a("el-form-item",{attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.addCampusClick}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.delCampusBtnClick}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{attrs:{"max-height":"480",data:e.campusData,border:"",stripe:"",size:"small"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"icon-btn-edit",attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){e.editCampusClick(t)}}}),e._v(" "),a("el-button",{staticClass:"icon-btn-del",attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){e.delCampusClick(t)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"campusName",label:"校区名称",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"openDate",label:"创办时间",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"colseDate",label:"停办时间",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"leaderName",label:"负责人",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"seq",label:"排列序号",width:""}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"add"==e.dialogMark?"添加校区":"编辑校区",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.addCampusForm,"label-width":"100px","label-position":"right",size:"small"}},[a("el-form-item",{attrs:{label:"校区名称"}},[a("el-input",{model:{value:e.addCampusForm.campusName,callback:function(t){e.$set(e.addCampusForm,"campusName",t)},expression:"addCampusForm.campusName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创办时间"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.addCampusForm.openDate,callback:function(t){e.$set(e.addCampusForm,"openDate",t)},expression:"addCampusForm.openDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"停办日期"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.addCampusForm.colseDate,callback:function(t){e.$set(e.addCampusForm,"colseDate",t)},expression:"addCampusForm.colseDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"负责人姓名"}},[a("el-input",{model:{value:e.addCampusForm.leaderName,callback:function(t){e.$set(e.addCampusForm,"leaderName",t)},expression:"addCampusForm.leaderName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排列序号"}},[a("el-input",{model:{value:e.addCampusForm.seq,callback:function(t){e.$set(e.addCampusForm,"seq",t)},expression:"addCampusForm.seq"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitBtnClick}},[e._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var n=a("VU/8")(o,i,!1,function(e){a("shKC")},null,null);t.default=n.exports},"K3y/":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.el-header {\n    line-height: 60px;\n}\n",""])},shKC:function(e,t,a){var s=a("K3y/");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("723de138",s,!0)}});